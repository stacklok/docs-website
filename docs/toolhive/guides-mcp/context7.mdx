---
title: Context7 MCP server guide
sidebar_label: Context7
description:
  Using the Context7 MCP server with ToolHive for up-to-date documentation.
last_update:
  author: danbarr
  date: 2025-10-08
---

## Overview

The [Context7 MCP server](https://github.com/upstash/context7) provides
up-to-date, version-specific documentation and code examples straight from the
source for any library or framework. Instead of relying on outdated training
data, Context7 fetches current documentation and API references directly into
your LLM's context, ensuring you get working code examples and accurate
information.

Context7 eliminates common issues like hallucinated APIs that don't exist,
outdated code patterns, and generic answers based on old package versions. It
supports thousands of popular libraries including Next.js, React, MongoDB,
Supabase, and many more.

Learn more at [context7.com](https://context7.com) and view the
[project documentation](https://github.com/upstash/context7) for additional
details.

## Metadata

<MCPMetadata name='context7' />

## Usage

While Context7 works without an API key, registering at
[context7.com/dashboard](https://context7.com/dashboard) provides:

- Higher rate limits
- Priority access during peak usage
- Better performance for frequent queries

<Tabs groupId='mode' queryString='mode'>
<TabItem value='ui' label='UI' default>

**Remote MCP server**

Select the `context7-remote` MCP server in the ToolHive registry. Currently,
ToolHive doesn't support adding custom headers for remote MCP servers, so using
the remote server is limited to basic usage without an API key.

**Local MCP server**

Select the `context7` MCP server in the ToolHive registry.

The server works without authentication for basic usage, but you can optionally
add an API key in the **Secrets** section for higher rate limits.

:::tip[Security tip]

Enable outbound network filtering on the **Network Isolation** tab to restrict
the server's network access using the default profile contained in the registry.

:::

</TabItem>
<TabItem value='cli' label='CLI'>

For basic (unauthenticated) usage, you can connect directly to Context7's public
MCP server:

```bash
thv run context7-remote
```

Alternatively, run the local containerized MCP server with the default
configuration (no API key required for basic usage):

```bash
thv run context7
```

Enable [network isolation](../guides-cli/network-isolation.mdx) using the
default profile from the registry to restrict the server's network access:

```bash
thv run --isolate-network context7
```

If you have a Context7 API key for higher rate limits, create a secret named
`context7` containing your API key and run the server with the `--secret` flag:

```bash
thv secret set context7
thv run --secret context7,target=CONTEXT7_API_KEY context7
```

Combine API key with network isolation:

```bash
thv run --secret context7,target=CONTEXT7_API_KEY --isolate-network context7
```

</TabItem>
<TabItem value='k8s' label='Kubernetes'>

For basic usage without authentication:

```yaml title="context7.yaml"
apiVersion: toolhive.stacklok.dev/v1alpha1
kind: MCPServer
metadata:
  name: context7
  namespace: toolhive-system
spec:
  image: ghcr.io/stacklok/dockyard/npx/context7:2.1.1
  transport: stdio
  proxyPort: 8080
```

Apply the manifest to your cluster:

```bash
kubectl apply -f context7.yaml
```

If you have a Context7 API key for higher rate limits, create a Kubernetes
secret containing your Context7 API key:

```bash
kubectl -n toolhive-system create secret generic context7-api-key --from-literal=token=<YOUR_TOKEN>
```

Then add a `secrets` section to the manifest file above to pass the API key as
an environment variable:

```yaml title="context7-with-auth.yaml"
spec:
  # ...
  secrets:
    - name: context7-api-key
      key: token
      targetEnvName: CONTEXT7_API_KEY
```

</TabItem>
</Tabs>

## Sample prompts

Here are practical prompts you can use with the Context7 MCP server:

- "Create a Next.js middleware that checks for a valid JWT in cookies and
  redirects unauthenticated users to `/login`. Use context7"
- "Show me how to set up MongoDB connection pooling with the latest MongoDB
  Node.js driver. Use context7"
- "Configure a Supabase client with TypeScript types for a user authentication
  system. Use context7"
- "Create a React component using the latest Tailwind CSS utility classes for a
  responsive navigation bar. Use context7"
- "Show me how to implement server-side rendering with the current version of
  Nuxt.js. Use context7"
- "Configure Redis caching with the Upstash Redis SDK for serverless functions.
  Use context7"

## Recommended practices

- Include `use context7` in your prompts to automatically fetch current
  documentation for the libraries you're working with.
- When you know the exact library, specify it directly using the Context7 ID
  format, for example: `use library /supabase/supabase for api and docs`
- Consider setting up a rule in your MCP client to automatically invoke Context7
  for code-related queries, eliminating the need to manually add `use context7`
  to each prompt.
- Use the `topic` parameter when requesting documentation to focus on specific
  areas like "routing", "authentication", or "deployment".
- Register for an API key at
  [context7.com/dashboard](https://context7.com/dashboard) if you plan to make
  frequent requests or need higher rate limits.
- Enable network isolation to restrict the server's outbound access.
