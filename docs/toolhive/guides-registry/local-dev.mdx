---
title: Local development
description: How to install and run the ToolHive Registry API server locally
---

## Prerequisites

- Go 1.23 or later (for building from source)
- [Task](https://taskfile.dev) for build automation (for building from source)
- [Docker](https://docs.docker.com/desktop/) to run integration tests

## Building from source

To build the binary from source:

```bash
# Build the binary
task build
```

This creates the `thv-registry-api` binary in your current directory.

## Running the server

All configuration is done via YAML configuration files. The server requires a
`--config` flag pointing to a YAML configuration file.

### Quick start with Git source

```bash
thv-registry-api serve --config examples/config-git.yaml
```

### Quick start with local file

```bash
thv-registry-api serve --config examples/config-file.yaml
```

### Quick start with API endpoint

```bash
thv-registry-api serve --config examples/config-api.yaml
```

The server starts on port 8080 by default. Use `--address :PORT` to customize
the listen address:

```bash
thv-registry-api serve --config config.yaml --address :9090
```

## What happens when the server starts

When you start the server, it performs the following steps:

1. Loads configuration from the specified YAML file
2. Runs database migrations automatically (if database is configured)
3. Immediately fetches registry data from the configured source
4. Starts background sync coordinator for automatic updates
5. Serves MCP Registry API endpoints on the configured address

## Available commands

The `thv-registry-api` CLI provides the following commands:

### Start the API server

```bash
thv-registry-api serve --config config.yaml [--address :8080]
```

### Database migrations

Manually run database migrations:

```bash
# Run migrations
thv-registry-api migrate up --config config.yaml [--yes]

# Rollback migrations
thv-registry-api migrate down --config config.yaml --num-steps N [--yes]
```

See the [Database configuration](./database.mdx) guide for more details on using
migration commands.

### Version information

Display version information:

```bash
thv-registry-api version [--format json]
```

### Help

Show help for commands:

```bash
thv-registry-api --help
thv-registry-api <command> --help
```

## Next steps

- [Configure the server](./configuration.mdx) to set up your data sources
- [Deploy the server](./deployment.mdx) in your environment
