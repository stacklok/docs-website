---
title: Optimize MCP tool usage
description:
  Enable the MCP Optimizer to enhance tool selection and reduce token usage.
---

## Overview

## Enable MCP Optimizer

## Customize MCP Optimizer settings

To update the MCP Optimizer's default settings, click the **Advanced** menu and
select **Customize MCP Optimizer configuration**. This opens a form where you
can modify the `mcp-optimizer` MCP server's configuration.

:::note

Changes to the MCP Optimizer configuration might cause the feature to stop
working correctly. Only modify these settings if you understand their
implications.

Generally, you should only need to change the Docker image tag and the
environment variables detailed below.

:::

You can customize the MCP Optimizer's behavior using the following environment
variables:

- `MAX_TOOLS_TO_RETURN`: Number of tools to return from `find_tool` (default:
  `8`)
- `TOOL_DISTANCE_THRESHOLD`: Distance threshold for tool similarity (default:
  `1.0`)
- `MAX_TOOL_RESPONSE_TOKENS`: Maximum number of tokens to return from
  `call_tool` (default: `None`)
- `WORKLOAD_POLLING_INTERVAL`: Polling interval for running MCP servers, in
  seconds (default: `60`)
- `REGISTRY_POLLING_INTERVAL`: Polling interval for ToolHive registry, in
  seconds (default: `86400`, 24 hours)

## Troubleshooting

If you encounter issues while using the MCP Optimizer, check the logs for
debugging information. On the **MCP Optimizer** page, click the **Advanced**
menu and select **MCP Optimizer logs**.

## Related information

- Tutorial:
  [Reduce token usage with MCP Optimizer](../tutorials/mcp-optimizer.mdx)
- [Organize MCP servers into groups](./group-management.mdx)
